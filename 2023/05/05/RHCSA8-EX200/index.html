<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>RHCSA8-EX200 试题解析记录 | HugeH4rD</title><meta name="keywords" content="RHCSA,Redhat"><meta name="author" content="Zelas2Xerath"><meta name="copyright" content="Zelas2Xerath"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="RHCSA8-EX200 试题解析记录"><meta name="application-name" content="RHCSA8-EX200 试题解析记录"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="RHCSA8-EX200 试题解析记录"><meta property="og:url" content="http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/index.html"><meta property="og:site_name" content="HugeH4rD"><meta property="og:description" content="RHCSA8-EX200 试题解析记录"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://s2.loli.net/2022/06/10/v7XdfkoYGR1KUCz.jpg"><meta property="article:author" content="Zelas2Xerath"><meta property="article:tag" content="HugeHard"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.loli.net/2022/06/10/v7XdfkoYGR1KUCz.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/@fortawesome/fontawesome-free@6.3.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  friends_vue_info: {"apiurl":"http://f.806006.xyz:65200/"},
  navMusic: false,
  changeMainColorPost: true,
  algolia: {"appId":"CSB4N1T1KG","apiKey":"1464ef4919d9840097b34ad63316b351","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"键入后按下回车搜索！","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"这篇文章已经有","messageNext":"天没有更新了, 其中的某些内容可能已经过期."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":666,"languages":{"author":"作者: Zelas2Xerath","link":"链接: ","source":"来源: HugeH4rD","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'RHCSA8-EX200 试题解析记录',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-18 16:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/avatar.png"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>const loadingPercentage = document.getElementById("loading-percentage");
let loadingPercentageTimer = setInterval(function() {
  var progressBar = document.querySelector(".pace-progress");
  if (!progressBar) return
  var currentValue = progressBar.getAttribute("data-progress-text");
  if (currentValue !== loadingPercentage.textContent) {
    loadingPercentage.textContent = currentValue;
    if (currentValue === "100%") {
      clearInterval(loadingPercentageTimer);
    }
  }
}, 100);
const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
    Pace.restart()
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://npm.elemecdn.com/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网站</div><div class="back-menu-list"><a class="back-menu-item" href="https://blog.806006.xyz/" title="博客" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.806006.xyz/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" href="https://pan.806006.xyz/" title="云盘主线" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.806006.xyz/img/favicon.png" alt="云盘主线"/><span class="back-menu-item-text">云盘主线</span></a><a class="back-menu-item" href="https://yun.806006.xyz/" title="云盘备线" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.806006.xyz/img/favicon.png" alt="云盘备线"/><span class="back-menu-item-text">云盘备线</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">线路</div><div class="back-menu-list"><a class="back-menu-item" href="https://axerath.gitee.io/" title="Gitee Page" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.806006.xyz/img/favicon.png" alt="Gitee Page"/><span class="back-menu-item-text">Gitee Page</span></a><a class="back-menu-item" href="http://zelas2xerath.github.io/" title="Github Page" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.806006.xyz/img/favicon.png" alt="Github Page"/><span class="back-menu-item-text">Github Page</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">HugeH4rD</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-127px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="fas fa-globe faa-tada"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 板块</span></a><ul class="menus_item_child" style="left:-223px;"><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Openwrt/"><i class="fa-solid fa-wifi faa-tada"></i><span> OpenWrt</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Pwn/"><i class="fa-solid fa-0 faa-tada"></i><span> Pwn</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Reverse/"><i class="fa-brands fa-500px faa-tada"></i><span> Reverse</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Net/"><i class="fa-brands fa-battle-net faa-tada"></i><span> Net</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-127px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> <span>最新评论</span></span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/NET/" style="font-size: 1.05rem; color: rgb(158, 54, 124);">.NET<sup>1</sup></a><a href="/tags/AMD/" style="font-size: 1.05rem; color: rgb(116, 68, 106);">AMD<sup>1</sup></a><a href="/tags/AWX/" style="font-size: 1.05rem; color: rgb(172, 156, 95);">AWX<sup>1</sup></a><a href="/tags/ChinaSkills/" style="font-size: 1.05rem; color: rgb(144, 73, 86);">ChinaSkills<sup>2</sup></a><a href="/tags/DIY/" style="font-size: 1.05rem; color: rgb(57, 152, 163);">DIY<sup>1</sup></a><a href="/tags/DirectX/" style="font-size: 1.05rem; color: rgb(62, 102, 146);">DirectX<sup>1</sup></a><a href="/tags/GPU/" style="font-size: 1.05rem; color: rgb(74, 26, 100);">GPU<sup>1</sup></a><a href="/tags/IDA/" style="font-size: 1.05rem; color: rgb(151, 90, 97);">IDA<sup>1</sup></a><a href="/tags/KVM/" style="font-size: 1.05rem; color: rgb(94, 88, 34);">KVM<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem; color: rgb(1, 106, 6);">Linux<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem; color: rgb(179, 186, 118);">Markdown<sup>1</sup></a><a href="/tags/Office/" style="font-size: 1.05rem; color: rgb(54, 125, 108);">Office<sup>1</sup></a><a href="/tags/Openwrt/" style="font-size: 1.05rem; color: rgb(75, 7, 2);">Openwrt<sup>8</sup></a><a href="/tags/Potplayer/" style="font-size: 1.05rem; color: rgb(54, 107, 14);">Potplayer<sup>1</sup></a><a href="/tags/Pwn/" style="font-size: 1.05rem; color: rgb(116, 124, 134);">Pwn<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem; color: rgb(110, 131, 29);">Python<sup>1</sup></a><a href="/tags/RHCE/" style="font-size: 1.05rem; color: rgb(12, 67, 143);">RHCE<sup>1</sup></a><a href="/tags/RHCSA/" style="font-size: 1.05rem; color: rgb(59, 102, 109);">RHCSA<sup>1</sup></a><a href="/tags/Redhat/" style="font-size: 1.05rem; color: rgb(171, 136, 167);">Redhat<sup>2</sup></a><a href="/tags/Runtimes/" style="font-size: 1.05rem; color: rgb(124, 180, 65);">Runtimes<sup>4</sup></a><a href="/tags/Ryzen/" style="font-size: 1.05rem; color: rgb(46, 75, 106);">Ryzen<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 1.05rem; color: rgb(163, 113, 181);">Windows<sup>12</sup></a><a href="/tags/ansible/" style="font-size: 1.05rem; color: rgb(174, 26, 200);">ansible<sup>1</sup></a><a href="/tags/cpu/" style="font-size: 1.05rem; color: rgb(199, 36, 61);">cpu<sup>3</sup></a><a href="/tags/eNSP/" style="font-size: 1.05rem; color: rgb(142, 139, 62);">eNSP<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem; color: rgb(48, 188, 54);">hexo<sup>2</sup></a><a href="/tags/idm/" style="font-size: 1.05rem; color: rgb(191, 177, 25);">idm<sup>1</sup></a><a href="/tags/iperf/" style="font-size: 1.05rem; color: rgb(166, 33, 35);">iperf<sup>1</sup></a><a href="/tags/pip/" style="font-size: 1.05rem; color: rgb(88, 152, 126);">pip<sup>1</sup></a><a href="/tags/pwn/" style="font-size: 1.05rem; color: rgb(157, 129, 3);">pwn<sup>1</sup></a><a href="/tags/python/" style="font-size: 1.05rem; color: rgb(20, 88, 78);">python<sup>1</sup></a><a href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" style="font-size: 1.05rem; color: rgb(35, 97, 144);">云计算<sup>2</sup></a><a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 1.05rem; color: rgb(43, 178, 109);">图床<sup>1</sup></a><a href="/tags/%E6%A0%B7%E9%A2%98/" style="font-size: 1.05rem; color: rgb(156, 72, 94);">样题<sup>2</sup></a><a href="/tags/%E8%81%8C%E4%B8%9A%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B/" style="font-size: 1.05rem; color: rgb(42, 173, 189);">职业技能大赛<sup>2</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 1.05rem; color: rgb(103, 200, 93);">虚拟化<sup>1</sup></a><a href="/tags/%E8%A3%85%E6%9C%BA/" style="font-size: 1.05rem; color: rgb(115, 172, 133);">装机<sup>3</sup></a><a href="/tags/%E8%B6%85%E9%A2%91/" style="font-size: 1.05rem; color: rgb(34, 6, 172);">超频<sup>2</sup></a><a href="/tags/%E9%85%8D%E7%BD%AE%E5%8D%95/" style="font-size: 1.05rem; color: rgb(100, 82, 50);">配置单<sup>2</sup></a><a href="/tags/%E9%87%91%E7%A0%96/" style="font-size: 1.05rem; color: rgb(15, 192, 191);">金砖<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">10</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">11</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Redhat/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Redhat</span></a><a class="article-meta__tags" href="/tags/RHCSA/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>RHCSA</span></a></span></div></div><h1 class="post-title">RHCSA8-EX200 试题解析记录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-05T08:00:00.000Z" title="发表于 2023-05-05 16:00:00">2023-05-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-18T08:00:00.000Z" title="更新于 2023-06-18 16:00:00">2023-06-18</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">3.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="RHCSA8-EX200 试题解析记录"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为杭州"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>杭州</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://s2.loli.net/2022/06/10/v7XdfkoYGR1KUCz.jpg"></div></header><main class="layout" id="content-inner"><div id="post"><div class="post-ai-description"><div class="ai-title"><i class="anzhiyufont anzhiyu-icon-bilibili"></i><div class="ai-title-text">AI-摘要</div><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i><div id="ai-tag">HUGEH4rD GPT</div></div><div class="ai-explanation">AI初始化中...</div><div class="ai-btn-box"><div class="ai-btn-item">介绍自己</div><div class="ai-btn-item">生成本文简介</div><div class="ai-btn-item">推荐相关文章</div><div class="ai-btn-item">前往主页</div><div class="ai-btn-item" id="go-tianli-blog">前往tianli博客</div></div><script data-pjax>(function(){
  // 当前随机到的ai摘要到index
  let lastAiRandomIndex = -1;
  let animationRunning = true; // 标志变量，控制动画函数的运行
  // 当前gpt模式
  let mode = "local"
  // 刷新点击次数
  let refreshNum = 0
  // 记录上一次传递给aiAbstract的参数
  let prevParam;
  const aiTitleRefreshIcon = document.querySelector(".ai-title .anzhiyufont.anzhiyu-icon-arrow-rotate-right")
  const explanation = document.querySelector(".ai-explanation");
  const post_ai = document.querySelector(".post-ai-description");
  let ai_str = "";
  let ai_str_length = "";
  let delay_init = 600;
  let i = 0;
  let j = 0;
  let sto = [];
  let elapsed = 0;
  const animate = timestamp => {
    if (!animationRunning) {
      return; // 动画函数停止运行
    }
    if (!animate.start) animate.start = timestamp;
    elapsed = timestamp - animate.start;
    if (elapsed >= 20) {
      animate.start = timestamp;
      if (i < ai_str_length - 1) {
        let char = ai_str.charAt(i + 1);
        let delay = /[,.，。!?！？]/.test(char) ? 150 : 20;
        if (explanation.firstElementChild) {
          explanation.removeChild(explanation.firstElementChild);
        }
        explanation.innerHTML += char;
        let div = document.createElement("div");
        div.className = "ai-cursor";
        explanation.appendChild(div);
        i++;
        if (delay === 150) {
          document.querySelector(".ai-explanation .ai-cursor").style.opacity = "0";
        }
        if (i === ai_str_length - 1) {
          observer.disconnect(); // 暂停监听
          explanation.removeChild(explanation.firstElementChild);
        }
        sto[0] = setTimeout(() => {
          requestAnimationFrame(animate);
        }, delay);
      }
    } else {
      requestAnimationFrame(animate);
    }
  };
  const observer = new IntersectionObserver(
    entries => {
      let isVisible = entries[0].isIntersecting;
      animationRunning = isVisible; // 标志变量更新
      if (animationRunning) {
        delay_init = i === 0 ? 200 : 20;
        sto[1] = setTimeout(() => {
          if (j) {
            i = 0;
            j = 0;
          }
          if (i === 0) {
            explanation.innerHTML = ai_str.charAt(0);
          }
          requestAnimationFrame(animate);
        }, delay_init);
      }
    },
    { threshold: 0 }
  );
  function clearSTO() {
    if (sto.length) {
      sto.forEach(item => {
        if (item) {
          clearTimeout(item);
        }
      });
    }
  }
  function startAI(str, df = true) {
    i = 0; //重置计数器
    j = 1;
    clearSTO();
    animationRunning = false;
    elapsed = 0;
    observer.disconnect(); // 暂停上一次监听
    explanation.innerHTML = df ? "生成中. . ." : "请等待. . .";
    ai_str = str;
    ai_str_length = ai_str.length;
    observer.observe(post_ai); //启动新监听
  }

  async function aiAbstract(num = 1000) {
    i = 0; //重置计数器
    j = 1;
    clearSTO();
    animationRunning = false;
    elapsed = 0;
    observer.disconnect(); // 暂停上一次监听
    if (mode === "tianli") {
      num = Math.max(10, Math.min(2000, num));
      const options = {
        key: "",
        Referer: ""
      };
      const truncateDescription = ("RHCSA8-EX200 试题解析记录" + "RHCSA8-EX200, 更新日志, 前置信息, Root 密码破解, 配置网络和主机名, 配置 YUM 仓库, 调试 SELINUX, 创建用户账户, 配置 Cron 计划任务, 创建协作目录, 配置 NTP, 配置 autofs, 配置文件权限, 配置用户账户, 查找文件, 查找字符串, 文件归档, 调整逻辑卷大小, 添加交换分区, 创建逻辑卷, 创建 VDO 卷, 配置系统调优, 容器（2合1）, 配置容器以使其自启动, 配置持久存储, 配置 UMASK, 修改密码有效期, 配置超级用户更新日志建议完成时间分钟合计共题已核验题更新修正了几处错误语言表达更为严谨更新新增的题型前置信息您的机器是域的一个成员域内的所有系统在子网内并且所有在这个子网内的系统都属于域虚拟机的网络配置应该如下主机名地址子网掩码网关名称服务虚拟机的密码是请确保所有修改和服务配置在重新启动之后仍然能够生效而无需人工干预所有考试用的虚拟机实例必须能重启之后进入正确的多用户级别而无需人工协助如果考试用的虚拟机系统不能启动或不能正常启动将被评零分操作系统版本对应的分发包可以通过在下面的链接中找到密码破解在和上完成在此界面光标移动至第一行摁下将光标标记到第四行末尾插入按下进行启动引导至如下界面以读写形式重挂载系统根分区修改家目录修改密码重新标记标签等待标签修改完成后自动重启配置网络和主机名查看当前网络配置文件和网卡设备直接修改现有配置文件新增配置文件修改主机名验证配置仓库存储库已可以从和使用配置您的系统以将这些位置用作默认存储库调试非标准端口上运行的服务器在提供内容时遇到问题根据需要调试并解决问题使其满足以下条件系统上的服务器能够提供中所有现有的文件注不要删除或以其他方式改动现有的文件内容服务器在端口上提供此内容服务器在系统启动时自动启动修改配置文件修改如下行修改即时状态安装提供的软件包修改安全上下文即时恢复安全上下文分配端口启动服务本机自测试防火墙放行端口永久在再次检查下创建用户账户创建下列用户组和组成员资格创建组创建用户作为次要组从属于创建用户作为次要组从属于创建用户无权访问系统上的交互式且不是的成员的密码都是配置计划任务配置作业该作业每隔分钟运行并执行以下命令以用户身份运行分执行启动服务添加计划任务列出任务创建协作目录创建目录的所属组是目录可以被组成员读取写入访问任何其他用户无权限中创建的文件自动将组所有权设置到组创建目录修改用户组修改权限验证配置配置服务器为添加行重启服务验证同步可能不会立即生效配置以按照如下所述自动挂载远程用户的主目录挂载远程用户的主目录此文件系统包含用户预配置的主目录的主目录是的主目录应自动挂载到本地下的主目录必须可提供其用户写入的密码是安装软件支持编辑配置文件让的主目录根据配置文件进行自动挂载挂载点是以读写权限形式挂载挂载的文件系统是提供的共享该共享是重启服务验证配置文件权限将文件复制到配置的权限以满足如下条件文件自用户所有文件属于组文件应不能被任何人执行用户能够读取和写入用户无法写入或读取所有其他用户当前或未来能够读取配置用户账户配置用户其用户为此用户的密码应当为查找文件查找为的所有文件并将其副本放入目录在目录下创建脚本查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找字符串查找文件中包含字符串的所有行将所有这些行的副本按原始顺序放在文件中文件归档创建一个名为的存档其应包含的存档使用进行压缩创建一个名为的存档其应包含的存档使用进行压缩调整逻辑卷大小将逻辑卷及其文件系统的大小调整到确保文件系统内容保持不变注分区大小很少与请求的大小完全相同因此可以接受范围为到的大小检查逻辑卷检查卷组扩容检查结果查看当前挂载状态扩容扩容验证添加交换分区向您的系统添加一个额外的交换分区交换分区应在系统启动挂载不要删除或以任何方式改动系统上的任何现有交换分区刷新分区表格式化永久挂载重加载检查结果创建逻辑卷根据如下要求创建新的逻辑卷逻辑卷取名为属于卷组大小为个扩展块卷组中逻辑卷的扩展块大小应当为使用文件系统格式化新逻辑卷该逻辑卷应在系统启动时自动挂载到下新建分区创建物理卷创建逻辑卷组创建逻辑卷创建挂载点格式化永久挂载查看挂载情况创建卷根据如下要求创建新的卷使用未分区的磁盘该卷的名称为该卷的逻辑大小为该卷使用文系统格式化该卷挂载到下安装软件创建格式化创建挂载点持续性挂载配置系统调优为您的系统选择建议的配置集并将它设为默认设置显示建议调整配置集验证容器合配置容器以使其自启动用服务器提供的镜像创建容器容器仓库服务器为用户名为密码为配容器使其以服务形式运行并只面向用户用户的密码为服务名为并在系统重新引导后自动启动配置持久存储配置主机系统日志使在系统重新引导后保留数据并自动重新启动日志记录服务将目录及任何子目录下的任何复制到配置服务使其在主机系统重新引导后自动挂载到修改配置文件修改如下行重启服务文件复制以普通用户登录不能使用替代登录容器的镜像仓库拉取镜像运行容器创建普通用户服务器配置文件目录生成服务文件停止并删除容器开启普通户使管理服务的权限重载用户服务文件设置服务开机自启动验证配置附加修改让用户创建普通文件的权限为让普通用户创建目录的权限为在用户下操作测试修改密码有效期修改用户密码信息设置最大有效期为天最小有效期为天配置超级用户创建用户要求用户可以像那样执行管理员命令且不需要输入任何密码修改配置文件在此行之后新增行在此行之后新增行测试无须输入密码显示为").trim().substring(0, num)

      const queryParams = `key=${options.key}&content=${truncateDescription}`;
      const requestOptions = {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
          Referer: options.Referer
        },
      };
      try {
        let animationInterval = null
        if (animationInterval) clearInterval(animationInterval);
        animationInterval = setInterval(() => {
          const animationText = "生成中" + ".".repeat(j);
          explanation.innerHTML = animationText;
          j = (j % 3) + 1; // 在 1、2、3 之间循环
        }, 500);
        const response = await fetch(`https://summary.tianli0.top/?${queryParams}`, requestOptions);
        let result;
        if (response.status === 403) {
          result = {
            summary: "403 refer与key不匹配，本地无法显示。"
          }
        } else if (response.status === 500) {
          result = {
            summary: "500 系统内部错误"
          }
        } else {
          result = await response.json();
        }
        const summary = result.summary.trim();
        setTimeout(() => {
          aiTitleRefreshIcon.style.opacity = "1";
        }, 300)
        startAI(summary);
        clearInterval(animationInterval)
      } catch (error) {
        console.error(error);
        explanation.innerHTML = "发生异常" + error;
      }
    } else {
      const strArr = "这篇文章介绍了 RHCSA 的 EX200 项目试题解析过程的完整记录，系统使用 RedHat Enterprise Linux 8 ，考试时间 3 个小时。主要考试内容为 Linux 基础运维。总分300分，需要达到210分通过考试。".split(",").map(item => item.trim()); // 将字符串转换为数组，去除每个字符串前后的空格
      if (strArr.length !== 1) {
        let randomIndex = Math.floor(Math.random() * strArr.length); // 随机生成一个索引
        while (randomIndex === lastAiRandomIndex) { // 如果随机到了上次的索引
          randomIndex = Math.floor(Math.random() * strArr.length); // 再次随机
        }
        lastAiRandomIndex = randomIndex; // 更新上次随机到的索引
        startAI(strArr[randomIndex]);
      } else {
        startAI(strArr[0])
      }
      setTimeout(() => {
        aiTitleRefreshIcon.style.opacity = "1";
      }, 600)
    }
  }

  function aiRecommend() {
    i = 0; //重置计数器
    j = 1;
    clearSTO();
    animationRunning = false;
    elapsed = 0;
    explanation.innerHTML = "生成中. . .";
    ai_str = "";
    ai_str_length = "";
    observer.disconnect(); // 暂停上一次监听
    sto[2] = setTimeout(() => {
      explanation.innerHTML = recommendList();
    }, 600);
  }
  function aiGoHome() {
    startAI("正在前往博客主页...", false);
    sto[2] = setTimeout(() => {
      pjax.loadUrl("/");
    }, 1000);
  }
  const ai_btn_item = document.querySelectorAll(".ai-btn-item");
  function Introduce() {
    if (mode == "tianli") {
      startAI("我是文章辅助AI: TianliGPT，点击下方的按钮，让我生成本文简介、推荐相关文章等。")
    } else {
      startAI("我是文章辅助AI: HUGEH4rD GPT，点击下方的按钮，让我生成本文简介、推荐相关文章等。")
    }
  }
  function aiTitleRefreshIconClick() {
    aiTitleRefreshIcon.click()
  }
  const aiFunctions = [Introduce, aiTitleRefreshIconClick, aiRecommend, aiGoHome];
  ai_btn_item.forEach((item, index) => {
    item.addEventListener("click", () => {
      aiFunctions[index]();
    });
  });

  function recommendList() {
    let thumbnail = document.querySelectorAll('.relatedPosts-list a');
    if (!thumbnail.length) {
      const cardRecentPost = document.querySelector('.card-widget.card-recent-post'); 
      if (!cardRecentPost) return '';

      thumbnail = cardRecentPost.querySelectorAll('.aside-list-item a');

      let list = '';
      for (let i = 0; i < thumbnail.length; i++) {
        const item = thumbnail[i];
        list += `<div class="ai-recommend-item"><span class="index">${i + 1}：</span><a href="javascript:;" onclick="pjax.loadUrl('${item.href}')" title="${item.title}" data-pjax-state="">${item.title}</a></div>`;
      }
      
      return `很抱歉，无法找到类似的文章，你也可以看看本站最新发布的文章：<br /><div class="ai-recommend">${list}</div>`;
    }

    let list = '';
    for (let i = 0; i < thumbnail.length; i++) {
      const item = thumbnail[i];
      list += `<div class="ai-recommend-item"><span>推荐${i + 1}：</span><a href="javascript:;" onclick="pjax.loadUrl('${item.href}')" title="${item.title}" data-pjax-state="">${item.title}</a></div>`;
    }

    return `推荐文章：<br /><div class="ai-recommend">${list}</div>`;
  }


  function changeShowMode() {
    if (mode === "tianli") {
      mode = "local";
      document.getElementById("ai-tag").innerHTML = "HUGEH4rD GPT";
      aiAbstract(1000);
    } else {
      mode = "tianli";
      document.getElementById("ai-tag").innerHTML = "Tianli GPT";

      const truncateDescription = ("" + "RHCSA8-EX200, 更新日志, 前置信息, Root 密码破解, 配置网络和主机名, 配置 YUM 仓库, 调试 SELINUX, 创建用户账户, 配置 Cron 计划任务, 创建协作目录, 配置 NTP, 配置 autofs, 配置文件权限, 配置用户账户, 查找文件, 查找字符串, 文件归档, 调整逻辑卷大小, 添加交换分区, 创建逻辑卷, 创建 VDO 卷, 配置系统调优, 容器（2合1）, 配置容器以使其自启动, 配置持久存储, 配置 UMASK, 修改密码有效期, 配置超级用户更新日志建议完成时间分钟合计共题已核验题更新修正了几处错误语言表达更为严谨更新新增的题型前置信息您的机器是域的一个成员域内的所有系统在子网内并且所有在这个子网内的系统都属于域虚拟机的网络配置应该如下主机名地址子网掩码网关名称服务虚拟机的密码是请确保所有修改和服务配置在重新启动之后仍然能够生效而无需人工干预所有考试用的虚拟机实例必须能重启之后进入正确的多用户级别而无需人工协助如果考试用的虚拟机系统不能启动或不能正常启动将被评零分操作系统版本对应的分发包可以通过在下面的链接中找到密码破解在和上完成在此界面光标移动至第一行摁下将光标标记到第四行末尾插入按下进行启动引导至如下界面以读写形式重挂载系统根分区修改家目录修改密码重新标记标签等待标签修改完成后自动重启配置网络和主机名查看当前网络配置文件和网卡设备直接修改现有配置文件新增配置文件修改主机名验证配置仓库存储库已可以从和使用配置您的系统以将这些位置用作默认存储库调试非标准端口上运行的服务器在提供内容时遇到问题根据需要调试并解决问题使其满足以下条件系统上的服务器能够提供中所有现有的文件注不要删除或以其他方式改动现有的文件内容服务器在端口上提供此内容服务器在系统启动时自动启动修改配置文件修改如下行修改即时状态安装提供的软件包修改安全上下文即时恢复安全上下文分配端口启动服务本机自测试防火墙放行端口永久在再次检查下创建用户账户创建下列用户组和组成员资格创建组创建用户作为次要组从属于创建用户作为次要组从属于创建用户无权访问系统上的交互式且不是的成员的密码都是配置计划任务配置作业该作业每隔分钟运行并执行以下命令以用户身份运行分执行启动服务添加计划任务列出任务创建协作目录创建目录的所属组是目录可以被组成员读取写入访问任何其他用户无权限中创建的文件自动将组所有权设置到组创建目录修改用户组修改权限验证配置配置服务器为添加行重启服务验证同步可能不会立即生效配置以按照如下所述自动挂载远程用户的主目录挂载远程用户的主目录此文件系统包含用户预配置的主目录的主目录是的主目录应自动挂载到本地下的主目录必须可提供其用户写入的密码是安装软件支持编辑配置文件让的主目录根据配置文件进行自动挂载挂载点是以读写权限形式挂载挂载的文件系统是提供的共享该共享是重启服务验证配置文件权限将文件复制到配置的权限以满足如下条件文件自用户所有文件属于组文件应不能被任何人执行用户能够读取和写入用户无法写入或读取所有其他用户当前或未来能够读取配置用户账户配置用户其用户为此用户的密码应当为查找文件查找为的所有文件并将其副本放入目录在目录下创建脚本查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找字符串查找文件中包含字符串的所有行将所有这些行的副本按原始顺序放在文件中文件归档创建一个名为的存档其应包含的存档使用进行压缩创建一个名为的存档其应包含的存档使用进行压缩调整逻辑卷大小将逻辑卷及其文件系统的大小调整到确保文件系统内容保持不变注分区大小很少与请求的大小完全相同因此可以接受范围为到的大小检查逻辑卷检查卷组扩容检查结果查看当前挂载状态扩容扩容验证添加交换分区向您的系统添加一个额外的交换分区交换分区应在系统启动挂载不要删除或以任何方式改动系统上的任何现有交换分区刷新分区表格式化永久挂载重加载检查结果创建逻辑卷根据如下要求创建新的逻辑卷逻辑卷取名为属于卷组大小为个扩展块卷组中逻辑卷的扩展块大小应当为使用文件系统格式化新逻辑卷该逻辑卷应在系统启动时自动挂载到下新建分区创建物理卷创建逻辑卷组创建逻辑卷创建挂载点格式化永久挂载查看挂载情况创建卷根据如下要求创建新的卷使用未分区的磁盘该卷的名称为该卷的逻辑大小为该卷使用文系统格式化该卷挂载到下安装软件创建格式化创建挂载点持续性挂载配置系统调优为您的系统选择建议的配置集并将它设为默认设置显示建议调整配置集验证容器合配置容器以使其自启动用服务器提供的镜像创建容器容器仓库服务器为用户名为密码为配容器使其以服务形式运行并只面向用户用户的密码为服务名为并在系统重新引导后自动启动配置持久存储配置主机系统日志使在系统重新引导后保留数据并自动重新启动日志记录服务将目录及任何子目录下的任何复制到配置服务使其在主机系统重新引导后自动挂载到修改配置文件修改如下行重启服务文件复制以普通用户登录不能使用替代登录容器的镜像仓库拉取镜像运行容器创建普通用户服务器配置文件目录生成服务文件停止并删除容器开启普通户使管理服务的权限重载用户服务文件设置服务开机自启动验证配置附加修改让用户创建普通文件的权限为让普通用户创建目录的权限为在用户下操作测试修改密码有效期修改用户密码信息设置最大有效期为天最小有效期为天配置超级用户创建用户要求用户可以像那样执行管理员命令且不需要输入任何密码修改配置文件在此行之后新增行在此行之后新增行测试无须输入密码显示为").trim().substring(0, 1000);
      let value = Math.floor(Math.random() * 3) + 1000;
      while (value === prevParam || truncateDescription.length - value === prevParam) {
        value = Math.floor(Math.random() * 3) + 1000;
      }
      aiTitleRefreshIcon.style.opacity = "0.2";
      aiTitleRefreshIcon.style.transitionDuration = "0.3s";
      aiTitleRefreshIcon.style.transform = "rotate(" + 360 * refreshNum + "deg)";
      if (truncateDescription.length <= 1000) {
        let param = truncateDescription.length - Math.floor(Math.random() * 3);
        while (param === prevParam) {
          param = truncateDescription.length - Math.floor(Math.random() * 3);
        }
        aiAbstract(param);
        prevParam = param;
      } else {
        aiAbstract(value);
        prevParam = value;
      }
      refreshNum++;
    }
  }

  //- 监听tag点击事件
  document.getElementById("ai-tag").addEventListener("click", () => {
    if (mode === "tianli") {
      document.querySelectorAll(".ai-btn-item").forEach(item => item.style.display = "none");
      document.getElementById("go-tianli-blog").style.display = "block";
      startAI("你好，我是Tianli开发的摘要生成助理TianliGPT，是一个基于GPT-4的生成式AI。我在这里只负责摘要的预生成和显示，你无法与我直接沟通，如果你也需要一个这样的AI摘要接口，可以在下方购买。（暂未开放购买，敬请期待）")
    } else {
      document.getElementById("go-tianli-blog").style.display = "none";
      startAI("你好，我是本站摘要生成助理HUGEH4rD GPT，是一个基于GPT-4的生成式AI。我在这里只负责摘要的预生成和显示，你无法与我直接沟通。")
    }

  });

  aiTitleRefreshIcon.addEventListener("click", () => {
    const truncateDescription = ("" + "RHCSA8-EX200, 更新日志, 前置信息, Root 密码破解, 配置网络和主机名, 配置 YUM 仓库, 调试 SELINUX, 创建用户账户, 配置 Cron 计划任务, 创建协作目录, 配置 NTP, 配置 autofs, 配置文件权限, 配置用户账户, 查找文件, 查找字符串, 文件归档, 调整逻辑卷大小, 添加交换分区, 创建逻辑卷, 创建 VDO 卷, 配置系统调优, 容器（2合1）, 配置容器以使其自启动, 配置持久存储, 配置 UMASK, 修改密码有效期, 配置超级用户更新日志建议完成时间分钟合计共题已核验题更新修正了几处错误语言表达更为严谨更新新增的题型前置信息您的机器是域的一个成员域内的所有系统在子网内并且所有在这个子网内的系统都属于域虚拟机的网络配置应该如下主机名地址子网掩码网关名称服务虚拟机的密码是请确保所有修改和服务配置在重新启动之后仍然能够生效而无需人工干预所有考试用的虚拟机实例必须能重启之后进入正确的多用户级别而无需人工协助如果考试用的虚拟机系统不能启动或不能正常启动将被评零分操作系统版本对应的分发包可以通过在下面的链接中找到密码破解在和上完成在此界面光标移动至第一行摁下将光标标记到第四行末尾插入按下进行启动引导至如下界面以读写形式重挂载系统根分区修改家目录修改密码重新标记标签等待标签修改完成后自动重启配置网络和主机名查看当前网络配置文件和网卡设备直接修改现有配置文件新增配置文件修改主机名验证配置仓库存储库已可以从和使用配置您的系统以将这些位置用作默认存储库调试非标准端口上运行的服务器在提供内容时遇到问题根据需要调试并解决问题使其满足以下条件系统上的服务器能够提供中所有现有的文件注不要删除或以其他方式改动现有的文件内容服务器在端口上提供此内容服务器在系统启动时自动启动修改配置文件修改如下行修改即时状态安装提供的软件包修改安全上下文即时恢复安全上下文分配端口启动服务本机自测试防火墙放行端口永久在再次检查下创建用户账户创建下列用户组和组成员资格创建组创建用户作为次要组从属于创建用户作为次要组从属于创建用户无权访问系统上的交互式且不是的成员的密码都是配置计划任务配置作业该作业每隔分钟运行并执行以下命令以用户身份运行分执行启动服务添加计划任务列出任务创建协作目录创建目录的所属组是目录可以被组成员读取写入访问任何其他用户无权限中创建的文件自动将组所有权设置到组创建目录修改用户组修改权限验证配置配置服务器为添加行重启服务验证同步可能不会立即生效配置以按照如下所述自动挂载远程用户的主目录挂载远程用户的主目录此文件系统包含用户预配置的主目录的主目录是的主目录应自动挂载到本地下的主目录必须可提供其用户写入的密码是安装软件支持编辑配置文件让的主目录根据配置文件进行自动挂载挂载点是以读写权限形式挂载挂载的文件系统是提供的共享该共享是重启服务验证配置文件权限将文件复制到配置的权限以满足如下条件文件自用户所有文件属于组文件应不能被任何人执行用户能够读取和写入用户无法写入或读取所有其他用户当前或未来能够读取配置用户账户配置用户其用户为此用户的密码应当为查找文件查找为的所有文件并将其副本放入目录在目录下创建脚本查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找目录下的所有文件并将文件名字的名字记录在文本文件中文件应该满足大于小于该文件有特殊权限查找字符串查找文件中包含字符串的所有行将所有这些行的副本按原始顺序放在文件中文件归档创建一个名为的存档其应包含的存档使用进行压缩创建一个名为的存档其应包含的存档使用进行压缩调整逻辑卷大小将逻辑卷及其文件系统的大小调整到确保文件系统内容保持不变注分区大小很少与请求的大小完全相同因此可以接受范围为到的大小检查逻辑卷检查卷组扩容检查结果查看当前挂载状态扩容扩容验证添加交换分区向您的系统添加一个额外的交换分区交换分区应在系统启动挂载不要删除或以任何方式改动系统上的任何现有交换分区刷新分区表格式化永久挂载重加载检查结果创建逻辑卷根据如下要求创建新的逻辑卷逻辑卷取名为属于卷组大小为个扩展块卷组中逻辑卷的扩展块大小应当为使用文件系统格式化新逻辑卷该逻辑卷应在系统启动时自动挂载到下新建分区创建物理卷创建逻辑卷组创建逻辑卷创建挂载点格式化永久挂载查看挂载情况创建卷根据如下要求创建新的卷使用未分区的磁盘该卷的名称为该卷的逻辑大小为该卷使用文系统格式化该卷挂载到下安装软件创建格式化创建挂载点持续性挂载配置系统调优为您的系统选择建议的配置集并将它设为默认设置显示建议调整配置集验证容器合配置容器以使其自启动用服务器提供的镜像创建容器容器仓库服务器为用户名为密码为配容器使其以服务形式运行并只面向用户用户的密码为服务名为并在系统重新引导后自动启动配置持久存储配置主机系统日志使在系统重新引导后保留数据并自动重新启动日志记录服务将目录及任何子目录下的任何复制到配置服务使其在主机系统重新引导后自动挂载到修改配置文件修改如下行重启服务文件复制以普通用户登录不能使用替代登录容器的镜像仓库拉取镜像运行容器创建普通用户服务器配置文件目录生成服务文件停止并删除容器开启普通户使管理服务的权限重载用户服务文件设置服务开机自启动验证配置附加修改让用户创建普通文件的权限为让普通用户创建目录的权限为在用户下操作测试修改密码有效期修改用户密码信息设置最大有效期为天最小有效期为天配置超级用户创建用户要求用户可以像那样执行管理员命令且不需要输入任何密码修改配置文件在此行之后新增行在此行之后新增行测试无须输入密码显示为").trim().substring(0, 1000);
    let value = Math.floor(Math.random() * 3) + 1000;
    while (value === prevParam || truncateDescription.length - value === prevParam) {
      value = Math.floor(Math.random() * 3) + 1000;
    }
    aiTitleRefreshIcon.style.opacity = "0.2";
    aiTitleRefreshIcon.style.transitionDuration = "0.3s";
    aiTitleRefreshIcon.style.transform = "rotate(" + 360 * refreshNum + "deg)";
    if (truncateDescription.length <= 1000) {
      let param = truncateDescription.length - Math.floor(Math.random() * 3);
      while (param === prevParam) {
        param = truncateDescription.length - Math.floor(Math.random() * 3);
      }
      aiAbstract(param);
      prevParam = param;
    } else {
      aiAbstract(value);
      prevParam = value;
    }
    showAiBtn();
    refreshNum++;
  });

  document.getElementById("go-tianli-blog").addEventListener("click", () => {
    window.open("https://afdian.net/item/886a79d4db6711eda42a52540025c377", "_blank");
  });
  
  if (false) {
    document.getElementById("ai-Toggle").addEventListener("click", () => {
      changeShowMode()
    });
  }

  function showAiBtn() {
    document.querySelectorAll(".ai-btn-item").forEach(item => {
      if (item.id !== "go-tianli-blog") {
        item.style.display = "block";
      }
      if (item.id === "go-tianli-blog") {
        item.style.display = "none";
      }
    });
  }


  aiAbstract();
  showAiBtn()
})()</script></div><article class="post-content" id="article-container"><h2 id="RHCSA8-EX200"><a href="#RHCSA8-EX200" class="headerlink" title="RHCSA8-EX200"></a>RHCSA8-EX200</h2><hr>
<h3 id="更新日志"><a href="#更新日志" class="headerlink" title="更新日志"></a>更新日志</h3><p>建议完成时间：40分钟</p>
<p>合计共 <strong>24</strong> 题，已核验 <strong>24</strong> 题。</p>
<p>【更新】修正了几处错误，语言表达更为严谨</p>
<p>【更新】新增的题型</p>
<hr>
<h3 id="前置信息"><a href="#前置信息" class="headerlink" title="前置信息"></a><strong>前置信息</strong></h3><p>您的机器是 <code>domain10.example.com</code> 域的一个成员。 <code>domain10.example.com</code> 域内的所有系统在 <code>172.20.10.0/255.255.255.0</code> 子网内，并且所有在这个子网内的系统都属于 <code>domain1.example.com</code> 域。</p>
<blockquote>
<p><strong>虚拟机的网络配置应该如下：</strong><br>    主机名： system1.domain10.example.com<br>    IP地址： 172.24.10.150<br>    子网掩码： 255.255.255.0<br>    网关 ：172.24.10.100<br>    名称服务： 172.24.10.250</p>
</blockquote>
<p>虚拟机的 root 密码是 <code>migwhisk</code></p>
<p>请确保所有修改和服务配置在重新启动之后仍然能够生效，而无需人工干预。所有考试用的虚拟机实例必须能重启之后进入正确的多用户级别，而无需人工协助。如果考试用的虚拟机系统不能启动或不能正常启动，将被评零分。</p>
<p>Red Hat Enterprise Linux 操作系统版本对应的分发包可以通过YUM在下面的链接中找到： <code>http://repo.domain1.example.com/rhel80</code></p>
<h3 id="Root-密码破解"><a href="#Root-密码破解" class="headerlink" title="Root 密码破解"></a>Root 密码破解</h3><ul>
<li>在 System1 和 System2 上完成</li>
</ul>
<p>​	<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/05/Zuwvr7yfsnJ96Ge.png" alt="image-20230222141211871"></p>
<ul>
<li>在此界面光标移动至第一行 摁下 E</li>
</ul>
<p>​	<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/05/P4rspbJk68M5EuR.png" alt="image-20230222141359818"></p>
<ul>
<li>将光标标记到第四行末尾插入 <code>console=tty0 rd.break</code> 按下 <code>Ctrl + X  </code>进行启动</li>
</ul>
<p>​	<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/05/tzmdQBhNAnpTfGC.png" alt="image-20230222141642083"></p>
<p>引导至如下界面</p>
<p>​	<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/05/T2fqR1gacCD6VMy.png" alt="image-20230222141843171"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mount -orw,remount /sysroot	<span class="comment"># 以读写形式重挂载系统根分区 </span></span><br><span class="line"><span class="built_in">chroot</span> /sysroot	<span class="comment"># 修改 root 家目录</span></span><br><span class="line"><span class="built_in">echo</span> 1104 | passwd --stdin root <span class="comment"># 修改 root 密码</span></span><br><span class="line"><span class="built_in">touch</span> /.autorelabel <span class="comment"># 重新标记 SELinux 标签</span></span><br><span class="line"><span class="built_in">exit</span> </span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 等待标签修改完成后，自动重启</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2023/05/05/wXScZsQm1OaqdAW.png" alt="image-20230222142535884"></p>
<h3 id="配置网络和主机名"><a href="#配置网络和主机名" class="headerlink" title="配置网络和主机名"></a>配置网络和主机名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前网络配置文件和网卡设备</span></span><br><span class="line">nmcli c s </span><br><span class="line">nmcli d s</span><br><span class="line"><span class="comment"># 直接修改现有配置文件</span></span><br><span class="line">nmcli connection mod <span class="string">&quot;Wired connection 1&quot;</span> ipv4.adderess 172.24.10.150/24 ipv4.gateway 172.24.10.100 ipv4.dns 172.24.10.254 method man autoconnect <span class="built_in">yes</span></span><br><span class="line">nmcli con up <span class="string">&quot;Wired connection 1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or 新增配置文件</span></span><br><span class="line">nmcli con add con-name static ifname ens160 <span class="built_in">type</span> ethernet ipv4.addresses 172.24.10.150/24 ipv4.gateway 172.24.10.100 ipv4.dns 172.24.10.254 ipv4.method man autoconnect <span class="built_in">yes</span></span><br><span class="line">nmcli con up static</span><br><span class="line"></span><br><span class="line">ip a show ens160</span><br><span class="line"><span class="comment"># 修改主机名</span></span><br><span class="line">hostnamectl set-hostname system1.domain.example.com</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">hostnamectl</span><br></pre></td></tr></table></figure>

<h3 id="配置-YUM-仓库"><a href="#配置-YUM-仓库" class="headerlink" title="配置 YUM 仓库"></a>配置 YUM 仓库</h3><p>YUM 存储库已可以从 <code>http://repo.domain10.example.com/rhel80/BaseOS</code> 和 <code>http://repo.domain10.example.com/rhel80/AppStream</code> 使用配置您的系统，以将这些位置用作默认存储库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">cat</span> &gt; /etc/yum.repo.d/redhat.repo &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">[BaseOS]</span></span><br><span class="line"><span class="string">name = BaseOS</span></span><br><span class="line"><span class="string">enabled = 1</span></span><br><span class="line"><span class="string">gpgcheck = 0</span></span><br><span class="line"><span class="string">baseurl = http:// repo.domain10.example.com/rhel80/BaseOS</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[AppStream]</span></span><br><span class="line"><span class="string">name = AppStream</span></span><br><span class="line"><span class="string">enabled = 1</span></span><br><span class="line"><span class="string">gpgcheck = 0</span></span><br><span class="line"><span class="string">baseurl = http:// repo.domain10.example.com/rhel80/AppStream</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">&gt; yum clean all</span><br><span class="line">&gt; yum makecache</span><br><span class="line">&gt; yum repolist</span><br></pre></td></tr></table></figure>

<h3 id="调试-SELINUX"><a href="#调试-SELINUX" class="headerlink" title="调试 SELINUX"></a>调试 SELINUX</h3><p>非标准端口 82 上运行的 Web 服务器在提供内容时遇到问题。根据需要调试并解决问题，使其满足以下条件：</p>
<ol>
<li>系统上的 Web 服务器能够提供 &#x2F;var&#x2F;www&#x2F;html 中所有现有的 HTML 文件（注：不要删除或以其他方式改动现有的文件内容）</li>
<li>Web 服务器在端口 82 上提供此内容</li>
<li>Web 服务器在系统启动时自动启动</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改配置文件(修改如下行)</span></span><br><span class="line">&gt; grep SELINUX /etc/selinux/config </span><br><span class="line">SELINUX=enforcing</span><br><span class="line"><span class="comment"># 修改即时 selinux 状态</span></span><br><span class="line">&gt; setenforce 1</span><br><span class="line"><span class="comment"># 安装提供 semanage 的软件包</span></span><br><span class="line">&gt; yum provides semanage </span><br><span class="line">&gt; yum -y install policycoreutils-python-utils</span><br><span class="line"><span class="comment"># 修改安全上下文</span></span><br><span class="line">&gt; semanage fcontext -a -t httpd_sys_content_t <span class="string">&quot;/var/www/html(/.*)?&quot;</span></span><br><span class="line"><span class="comment"># 即时恢复安全上下文</span></span><br><span class="line">&gt; restorecon -RvF /var/www/html/</span><br><span class="line">&gt; semanage port -l | grep http</span><br><span class="line"><span class="comment">#  分配端口 82</span></span><br><span class="line">&gt; semanage port -a -t http_port_t -p tcp 82</span><br><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">&gt; systemctl <span class="built_in">enable</span> httpd</span><br><span class="line">&gt; systemctl restart httpd</span><br><span class="line"><span class="comment"># 本机自测试</span></span><br><span class="line">&gt; curl localhost:82</span><br><span class="line"><span class="comment"># 防火墙放行端口</span></span><br><span class="line">firewall-cmd --add-port=82/tcp</span><br><span class="line"><span class="comment"># 永久</span></span><br><span class="line">firewall-cmd --add-port=82/tcp --per</span><br><span class="line"><span class="comment"># 在system2 再次检查⼀下</span></span><br><span class="line">&gt; curl 172.24.10.150:82</span><br></pre></td></tr></table></figure>

<h3 id="创建用户账户"><a href="#创建用户账户" class="headerlink" title="创建用户账户"></a>创建用户账户</h3><p>创建下列用户、组和组成员资格：</p>
<ol>
<li>创建 sysmgrs 组</li>
<li>创建用户 natasha ，作为次要组从属于 sysmgrs</li>
<li>创建用户 harry ，作为次要组从属于 sysmgrs</li>
<li>创建用户 sarah ，无权访问系统上的交互式 Shell 且不是 sysmgrs 的成员</li>
<li>natasha，harry，sarah 的密码都是 123</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">groupadd sysmgrs</span><br><span class="line">useradd natasha -G sysmgrs</span><br><span class="line">useradd harry -G sysmgrs</span><br><span class="line">useradd sarah -s /sbin/nologin</span><br><span class="line"><span class="built_in">echo</span> 123 | passwd --stdin natasha</span><br><span class="line"><span class="built_in">echo</span> 123 | passwd --stdin harry</span><br><span class="line"><span class="built_in">echo</span> 123 | passwd --stdin sarah</span><br></pre></td></tr></table></figure>

<h3 id="配置-Cron-计划任务"><a href="#配置-Cron-计划任务" class="headerlink" title="配置 Cron 计划任务"></a>配置 Cron 计划任务</h3><p>配置 cron 作业，该作业每隔 5 分钟运行并执行以下命令：</p>
<ul>
<li><code>logger &quot;EX200 in progress&quot;</code>，以用户 natasha 身份运行</li>
<li>14:23分执行 <code>/bin/echo enjia</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">&gt; systemctl <span class="built_in">enable</span> crond --now</span><br><span class="line"><span class="comment"># 添加计划任务</span></span><br><span class="line">&gt; crontab -e -u natasha</span><br><span class="line">*/5 * * * * logger <span class="string">&quot;EX200 in progress</span></span><br><span class="line"><span class="string">23 14 * * * /bin/echo enjia</span></span><br><span class="line"><span class="string"># 列出任务</span></span><br><span class="line"><span class="string">&gt; crontab -l -u natasha</span></span><br></pre></td></tr></table></figure>

<h3 id="创建协作目录"><a href="#创建协作目录" class="headerlink" title="创建协作目录"></a>创建协作目录</h3><ol>
<li>创建目录 &#x2F;home&#x2F;managers</li>
<li>&#x2F;home&#x2F;managers 的所属组是 sysmgrs</li>
<li>目录可以被组成员读取，写入，访问，任何其他用户无权限</li>
<li>&#x2F;home&#x2F;managers 中创建的文件自动将组所有权设置到 sysmgrs 组</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建目录</span></span><br><span class="line"><span class="built_in">mkdir</span> /home/managers</span><br><span class="line"><span class="comment"># 修改用户组</span></span><br><span class="line"><span class="built_in">chown</span> :sysmgrs /home/managers</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="built_in">chgrp</span> sysmgrs /home/managers</span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line"><span class="built_in">chmod</span> /home/managers g=rwx,o=--- </span><br><span class="line"><span class="comment"># setGID</span></span><br><span class="line"><span class="built_in">chmod</span> g+s /home/managers</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">ll -d /home/managers</span><br></pre></td></tr></table></figure>

<h3 id="配置-NTP"><a href="#配置-NTP" class="headerlink" title="配置 NTP"></a>配置 NTP</h3><p>配置 NTP 服务器为 <code>host.domain10.example.com</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加行</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt;&gt; /etc/chrony.conf &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">server host.domain10.example.com iburst</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment"># 重启服务</span></span><br><span class="line">&gt; systemctl restart chronyd</span><br><span class="line">&gt; systemctl <span class="built_in">enable</span> chronyd</span><br><span class="line"><span class="comment"># 验证同步(可能不会立即生效)</span></span><br><span class="line">&gt; chronyc sources</span><br><span class="line">&gt; chronyc -n sources</span><br></pre></td></tr></table></figure>

<h3 id="配置-autofs"><a href="#配置-autofs" class="headerlink" title="配置 autofs"></a>配置 autofs</h3><p>以按照如下所述自动挂载远程用户的主目录：</p>
<ol>
<li>挂载远程用户的主目录</li>
<li><code>host.domain10.example.com NFS /rhel</code> 此文件系统包含用户 user1 预配置的主目录</li>
<li>user1 的主目录是 <code>xx.example.com:/rhel/user1</code></li>
<li>user1 的主目录应自动挂载到本地 &#x2F;rhel 下的 &#x2F;rhel&#x2F;user1</li>
<li>主目录必须可提供其用户写入</li>
<li>user1 的密码是 123</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装软件支持</span></span><br><span class="line">&gt; yum -y install nfs-utils autofs</span><br><span class="line"><span class="comment"># 编辑 auto.master 配置文件，让 /rhel 的 autofs 主目录根据 /etc/auto.user1 配置文件进行自动挂载</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt;&gt; /etc/auto.master &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">/rhel /etc/auto.user1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment"># 挂载点是 user1，以读写权限形式挂载，挂载的文件系统是 host.domain10.example.com 提供的nfs共享，该共享是/rhel/user1</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt; /etc/auto.user1 &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">user1 -rw host.domain10.example.com:/rhel/user1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment"># 重启服务</span></span><br><span class="line">&gt; systemctl restart autofs</span><br><span class="line">&gt; systemctl <span class="built_in">enable</span> autofs</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">&gt; su - user1</span><br><span class="line">&gt; <span class="built_in">df</span> -Th /rhel/user1</span><br></pre></td></tr></table></figure>

<h3 id="配置文件权限"><a href="#配置文件权限" class="headerlink" title="配置文件权限"></a>配置文件权限</h3><p>将文件 &#x2F;etc&#x2F;fstab 复制到 &#x2F;var&#x2F;tmp&#x2F;fstab。配置&#x2F; var&#x2F;tmp&#x2F;fstab 的权限以满足如下条件：</p>
<ol>
<li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 自 root 用户所有</li>
<li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 属于组 root</li>
<li>文件 &#x2F;var&#x2F;tmp&#x2F;fstab 应不能被任何人执行</li>
<li>用户 natasha 能够读取和写入 &#x2F;var&#x2F;tmp&#x2F;fstab</li>
<li>用户 harry 无法写入或读取 &#x2F;var&#x2F;tmp&#x2F;fstab</li>
<li>所有其他用户(当前或未来)能够读取 &#x2F;var&#x2F;tmp&#x2F;fstab</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">cp</span> /etc/fstab /var/tmp/fstab</span><br><span class="line">&gt; <span class="built_in">chown</span> root:root /var/tmp/fstab</span><br><span class="line">&gt; <span class="built_in">chmod</span> a-x /var/tmp/fstab</span><br><span class="line">&gt; <span class="built_in">chmod</span> o=r-- /var/tmp/fstab</span><br><span class="line">&gt; setfacl -m u:natasha:rw /var/tmp/fstab</span><br><span class="line">&gt; setfacl -m u:harry:--- /var/tmp/fstab</span><br></pre></td></tr></table></figure>

<h3 id="配置用户账户"><a href="#配置用户账户" class="headerlink" title="配置用户账户"></a>配置用户账户</h3><p>配置用户 user2，其用户 ID 为 3388。此用户的密码应当为 123。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd user2 -u 3388</span><br><span class="line"><span class="built_in">echo</span> 123 | passwd --stdin user2</span><br></pre></td></tr></table></figure>

<h3 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h3><ul>
<li><p>查找 owner 为 user3 的所有文件并将其副本放入 &#x2F;root&#x2F;dfiles 目录</p>
</li>
<li><p>在&#x2F;usr&#x2F;bin目录下创建 repwis 脚本</p>
</li>
<li><p>查找 &#x2F;usr 目录下的所有文件并将文件名字的名字记录在 &#x2F;root&#x2F;myfiles&#x2F;find-file1.txt 文本文件中 文件应该满足：</p>
<ul>
<li><p>大于3M</p>
</li>
<li><p>小于5M</p>
</li>
<li><p>该文件有setgid特殊权限</p>
</li>
</ul>
</li>
<li><p>查找&#x2F;usr目录下的所有文件并将文件名字的名字记录在&#x2F;root&#x2F;myfiles&#x2F;find-file2.txt文本文件中 文件应该满足：</p>
<ul>
<li>大于30k</li>
<li>小于50k</li>
<li>该文件有setuid特殊权限</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /root/dfiles</span><br><span class="line">find / -user user3 -<span class="built_in">exec</span> <span class="built_in">cp</span> -a &#123;&#125; /root/dfiles \;</span><br><span class="line"><span class="built_in">touch</span> /usr/bin/repwis </span><br><span class="line"><span class="built_in">touch</span> /root/myfiles/find-file1.txt</span><br><span class="line"><span class="built_in">touch</span> /root/myfiles/find-file2.txt</span><br><span class="line"><span class="built_in">cat</span> &gt; /usr/bin/repwis &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">#!/bin/sh</span></span><br><span class="line"><span class="string">find /usr -size +3M -size -5M -perm /g+s &gt; /root/myfiles/find-file1.txt</span></span><br><span class="line"><span class="string">find /usr -size +30k -size -50k -perm /u+s &gt; /root/myfiles/find-file2.txt</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="built_in">chmod</span> +x /usr/bin/repwis</span><br><span class="line">/usr/bin/repwis</span><br><span class="line"><span class="built_in">cat</span> /root/myfiles/find-file1.txt</span><br><span class="line"><span class="built_in">cat</span> /root/myfiles/find-file2.txt</span><br></pre></td></tr></table></figure>

<h3 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h3><p>查找文件 &#x2F;usr&#x2F;share&#x2F;rhel.xml 中包含字符串 re 的所有行。将所有这些行的副本按原始顺序放在文件 &#x2F;root&#x2F;files 中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> /root/files</span><br><span class="line">grep re /usr/share/rhel.xml &gt; /root/files</span><br><span class="line"><span class="built_in">cat</span> /root/files</span><br></pre></td></tr></table></figure>

<h3 id="文件归档"><a href="#文件归档" class="headerlink" title="文件归档"></a>文件归档</h3><ul>
<li><p>创建一个名为 &#x2F;root&#x2F;books.tar.gz 的 tar 存档</p>
<ul>
<li>其应包含 &#x2F;usr&#x2F;local 的 tar 存档</li>
</ul>
</li>
<li><p>使用 gzip 进行压缩</p>
</li>
<li><p>创建一个名为 &#x2F;root&#x2F;books.tar.bz2 的 tar 存档</p>
<ul>
<li>其应包含 &#x2F;usr&#x2F;local 的 tar 存档</li>
<li>使用 bzip2 进行压缩</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install tar bzip2</span><br><span class="line">tar -zcvf  /root/books.tar.gz /usr/local </span><br><span class="line">tar -jcvf  /root/books.tar.bz2 /usr/local </span><br><span class="line">ll /root/books.tar.*</span><br></pre></td></tr></table></figure>

<h3 id="调整逻辑卷大小"><a href="#调整逻辑卷大小" class="headerlink" title="调整逻辑卷大小"></a>调整逻辑卷大小</h3><p>将逻辑卷 vo 及其文件系统的大小调整到 180MiB。确保文件系统内容保持不变。</p>
<p>注：分区大小很少与请求的大小完全相同，因此可以接受范围为 167MiB 到 193MiB的大小</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检查逻辑卷</span></span><br><span class="line">&gt; lvs</span><br><span class="line"><span class="comment"># 检查卷组</span></span><br><span class="line">&gt; vgs</span><br><span class="line"><span class="comment"># 扩容</span></span><br><span class="line">&gt; lvextend /dev/vg-exam/vo1 -L 180M</span><br><span class="line">&gt; lvextend /dev/vg-exam/vo2 -L 180M</span><br><span class="line"><span class="comment"># 检查结果</span></span><br><span class="line">&gt; lvs</span><br><span class="line"><span class="comment"># 查看当前挂载状态</span></span><br><span class="line">&gt; <span class="built_in">df</span> -Th /mnt/vo2 /mnt/vo1</span><br><span class="line"><span class="comment"># ext4 扩容</span></span><br><span class="line">&gt; resize2fs /dev/vg-exam/vo1</span><br><span class="line"><span class="comment"># xfs 扩容</span></span><br><span class="line">&gt; xfs_growfs /mnt/vo2</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">&gt; <span class="built_in">df</span> -Th /mnt/vo2 /mnt/vo1</span><br></pre></td></tr></table></figure>

<h3 id="添加交换分区"><a href="#添加交换分区" class="headerlink" title="添加交换分区"></a>添加交换分区</h3><p>向您的系统添加一个额外的交换分区 567MiB。交换分区应在系统启动挂载。不要删除或以任何方式改动系统上的任何现有交换分区。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; fdisk /dev/vdb</span><br><span class="line">n p +567M t 82 w</span><br><span class="line">&gt; <span class="built_in">ls</span> /dev/vdb*</span><br><span class="line"><span class="comment"># 刷新分区表</span></span><br><span class="line">&gt; partprobe</span><br><span class="line"><span class="comment"># 格式化</span></span><br><span class="line">&gt; mkswap /dev/vdb2</span><br><span class="line"><span class="comment"># 永久挂载</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt;&gt; /etc/fstab &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">/dev/vdb2 swap swap defaults 0 0</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment"># 重加载 swap</span></span><br><span class="line">&gt; swapon -a</span><br><span class="line"><span class="comment"># 检查结果</span></span><br><span class="line">&gt; free -m</span><br></pre></td></tr></table></figure>

<h3 id="创建逻辑卷"><a href="#创建逻辑卷" class="headerlink" title="创建逻辑卷"></a>创建逻辑卷</h3><p>根据如下要求，创建新的逻辑卷</p>
<ol>
<li>逻辑卷取名为 np</li>
<li>属于 npgroup 卷组</li>
<li>大小为 45 个扩展块 </li>
<li>npgroup 卷组中逻辑卷的扩展块大小应当为 20MiB </li>
<li>使用 ext3 文件系统格式化新逻辑卷</li>
<li>该逻辑卷应在系统启动时自动挂载到 &#x2F;mnt&#x2F;np下</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建分区</span></span><br><span class="line">&gt; fdsik /dev/vdb</span><br><span class="line">n p 3 +1G w</span><br><span class="line">&gt; <span class="built_in">ls</span> /dev/vdb*</span><br><span class="line"><span class="comment"># 创建物理卷</span></span><br><span class="line">&gt; pvcreate /dev/vdb3</span><br><span class="line">&gt; pvs</span><br><span class="line"><span class="comment"># 创建逻辑卷组</span></span><br><span class="line">&gt; vgcreate -s 20M nproup /dev/vdb3</span><br><span class="line">&gt; vgs</span><br><span class="line"><span class="comment"># 创建逻辑卷</span></span><br><span class="line">&gt; lvcreate -n np -l 45 npgroup</span><br><span class="line">&gt; lvs</span><br><span class="line"><span class="comment"># 创建挂载点</span></span><br><span class="line">&gt; <span class="built_in">mkdir</span> /mnt/np</span><br><span class="line"><span class="comment"># 格式化</span></span><br><span class="line">&gt; mkfs.ext3 /dev/npgroup/np</span><br><span class="line">&gt; lsblk</span><br><span class="line"><span class="comment"># 永久挂载</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt;&gt; /etc/fstab &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">/dev/npgroup/np /mnt/np ext3 defaults 0 0</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment"># 查看挂载情况</span></span><br><span class="line">&gt; mount -a </span><br><span class="line">&gt; <span class="built_in">df</span> -Th</span><br></pre></td></tr></table></figure>

<h3 id="创建-VDO-卷"><a href="#创建-VDO-卷" class="headerlink" title="创建 VDO 卷"></a>创建 VDO 卷</h3><p>根据如下要求，创建新的 VDO 卷：</p>
<ol>
<li>使用未分区的磁盘</li>
<li>该卷的名称为 vdoname</li>
<li>该卷的逻辑大小为 80G</li>
<li>该卷使用 xfs文系统格式化</li>
<li>该卷挂载到 &#x2F;vbark下</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装软件</span></span><br><span class="line">&gt; yum -y install vdo</span><br><span class="line"><span class="comment"># 创建 VDO</span></span><br><span class="line">&gt; vdo create --name=vdoname --device=/dev/vdc --vdoLogicalSize=80G</span><br><span class="line"><span class="comment"># 格式化</span></span><br><span class="line">&gt; mkfs.xfs /dev/mapper/vdoname</span><br><span class="line"><span class="comment"># 创建挂载点</span></span><br><span class="line">&gt; <span class="built_in">mkdir</span> /vbark</span><br><span class="line"><span class="comment"># 持续性挂载</span></span><br><span class="line">&gt; <span class="built_in">cat</span> &gt;&gt; /etc/fstab &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">/dev/mapper/vdoname /vbark xfs _netdev 1 2</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">&gt; <span class="built_in">df</span> -Th</span><br></pre></td></tr></table></figure>

<h3 id="配置系统调优"><a href="#配置系统调优" class="headerlink" title="配置系统调优"></a>配置系统调优</h3><p>为您的系统选择建议的 tuned 配置集并将它设为默认设置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示建议</span></span><br><span class="line">tuned-adm recommend</span><br><span class="line"><span class="comment"># 调整配置集</span></span><br><span class="line">tuned-adm profile virtual-guest</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">tuned-adm list</span><br></pre></td></tr></table></figure>

<h3 id="容器（2合1）"><a href="#容器（2合1）" class="headerlink" title="容器（2合1）"></a>容器（2合1）</h3><h4 id="配置容器以使其自启动"><a href="#配置容器以使其自启动" class="headerlink" title="配置容器以使其自启动"></a>配置容器以使其自启动</h4><p>用 registry 服务器提供的 rlogserver 镜像创建容器</p>
<ul>
<li><p>容器仓库服务器为<code>http://utility.example.com:5000</code></p>
<ul>
<li>用户名为 gls 密码为 glshxwyz</li>
</ul>
</li>
<li><p>配容器使其以 systemd 服务形式运行，并只面向用户 elovodo</p>
<ul>
<li>elovodo 用户的密码为 1</li>
</ul>
</li>
<li><p>服务名为 container_logserver.service，并在系统重新引导后自动启动</p>
</li>
</ul>
<h4 id="配置持久存储"><a href="#配置持久存储" class="headerlink" title="配置持久存储"></a>配置持久存储</h4><ul>
<li>配置主机系统日志使在系统重新引导后保留数据并自动重新启动日志记录服务</li>
<li>将 &#x2F;var&#x2F;log&#x2F;journal 目录及任何子目录下的任何 .journal 复制到 &#x2F;home&#x2F;elovodo&#x2F;container_journal</li>
<li>配置服务使其在主机系统重新引导后自动挂载 &#x2F;home&#x2F;elovodo&#x2F;container_journal到 &#x2F;var&#x2F;log&#x2F;journal</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改配置文件/etc/systemd/journald.conf 修改如下行</span></span><br><span class="line">&gt; grep Storage /etc/systemd/journald.conf</span><br><span class="line">Storage=persistent</span><br><span class="line"><span class="comment"># 重启systemd-journald 服务</span></span><br><span class="line">systemctl restart systemd-journald</span><br><span class="line"><span class="comment"># 文件复制</span></span><br><span class="line">find /var/log/journal/ -name <span class="string">&quot;*.journal&quot;</span> -<span class="built_in">exec</span> <span class="built_in">cp</span> -a &#123;&#125; /home/elovodo/container_journal/ \;</span><br><span class="line"><span class="built_in">chown</span> -R elovodo:elovodo /home/elovodo/container_journal/</span><br><span class="line"><span class="comment"># 以普通用户 SSH 登录（不能使用 su 替代）</span></span><br><span class="line">ssh elovodo@localhost</span><br><span class="line"><span class="comment"># 登录容器的镜像仓库</span></span><br><span class="line">podman login http://utility.example.com:5000</span><br><span class="line"><span class="comment"># 拉取镜像</span></span><br><span class="line">podman search rlogserver</span><br><span class="line">podman pull utility.example.com:5000/rlogserver</span><br><span class="line"><span class="comment"># 运行容器</span></span><br><span class="line">podman run -itd -v /home/elovodo/container_journal:/var/log/journal:Z --name container_logserver utility.example.com:5000/rlogserver</span><br><span class="line"><span class="comment"># 创建普通用户 systemd 服务器配置文件目录</span></span><br><span class="line"><span class="built_in">mkdir</span> ~/.config/systemd/user -p</span><br><span class="line"><span class="built_in">cd</span> ~/.config/systemd/user</span><br><span class="line"><span class="comment"># 生成服务文件</span></span><br><span class="line">podman generate systemd --new --files --name container_logserver</span><br><span class="line"><span class="built_in">mv</span> container-container_logserver.service container_logserver.service</span><br><span class="line"><span class="comment"># 停止并删除容器</span></span><br><span class="line">podman stop container_logserver</span><br><span class="line">podman <span class="built_in">rm</span> container_logserver</span><br><span class="line"><span class="comment"># 开启普通⽤户使⽤systemd管理⾃⼰服务的权限</span></span><br><span class="line">loginctl enable-linger</span><br><span class="line"><span class="comment"># 重载用户服务文件</span></span><br><span class="line">systemctl --user daemon-reload</span><br><span class="line"><span class="comment"># 设置服务开机自启动</span></span><br><span class="line">systemctl --user <span class="built_in">enable</span> container_logserver --now</span><br><span class="line"><span class="comment"># 验证</span></span><br><span class="line">podman ps -a</span><br></pre></td></tr></table></figure>

<h3 id="配置-UMASK"><a href="#配置-UMASK" class="headerlink" title="配置 UMASK"></a>配置 UMASK</h3><p><strong>附加：</strong>修改 umask，让elovodo用户创建普通文件的权限为rw——-，让普通用户创建目录的权限为rwx——</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 elovodo 用户下操作</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;umask 0077&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> .bashrc</span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line"><span class="built_in">touch</span> test1</span><br><span class="line"><span class="built_in">mkdir</span> test2</span><br><span class="line"><span class="built_in">ls</span> -l</span><br></pre></td></tr></table></figure>

<h3 id="修改密码有效期"><a href="#修改密码有效期" class="headerlink" title="修改密码有效期"></a>修改密码有效期</h3><p>修改 glsgreat 用户密码信息,设置最大有效期为120天，最小有效期为7天</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chage -m 7 -M 120 glsgreat</span><br><span class="line">chage -l glsgreat</span><br></pre></td></tr></table></figure>

<h3 id="配置超级用户"><a href="#配置超级用户" class="headerlink" title="配置超级用户"></a>配置超级用户</h3><p>创建 glsgood 用户，要求 glsgood 用户可以像 root 那样执行管理员命令且不需要输入任何密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改配置文件/etc/sudoers</span></span><br><span class="line">&gt; vim /etc/sudoers</span><br><span class="line"><span class="comment">##Allow root to run any commands anywhere # 在此行之后新增行</span></span><br><span class="line">glsgood	ALL=(ALL)	ALL</span><br><span class="line"><span class="comment">## Same thing without a password # 在此行之后新增行</span></span><br><span class="line">glsgood	ALL=(ALL)	NOPASSWD: ALL</span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">su - glsgood</span><br><span class="line">sudo <span class="built_in">id</span></span><br><span class="line"><span class="comment"># 无须输入密码显示为root</span></span><br></pre></td></tr></table></figure>

</article><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=RHCSA8-EX200 试题解析记录&amp;url=http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/&amp;pic=https://s2.loli.net/2022/06/10/v7XdfkoYGR1KUCz.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Redhat/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Redhat<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/RHCSA/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>RHCSA<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2022/06/10/JPMRFZowcEOalqu.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div></div><div class="post-copyright"><i class="anzhiyufont anzhiyu-icon-copyright"></i><div class="post-copyright__author"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/">原创</a><a class="post-copyright-title"><span>RHCSA8-EX200 试题解析记录</span></a></div><div class="post-copyright-info-box"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"></span><a class="link" href="http://blog.806006.xyz">Zelas2Xerath</a></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a class="link" href="http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/">http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/</a></span><span class="copy-button" onclick="rm.copyPageUrl('http://blog.806006.xyz/2023/05/05/RHCSA8-EX200/')"><i class="anzhiyufont anzhiyu-icon-copy"></i></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://blog.806006.xyz" target="_blank">HugeH4rD</a>！</span></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/01/Ex2/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/12/a2utPKenAkmj4br.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">一带一路暨金砖国家技能赛 - 云计算赛项样题</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/05/RHCE-EX294/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/10/JPMRFZowcEOalqu.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">RHCE8-EX294 试题解析记录</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/05/05/RHCE-EX294/" title="RHCE8-EX294 试题解析记录"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/10/JPMRFZowcEOalqu.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-05-05</div><div class="title">RHCE8-EX294 试题解析记录</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="author-info-top"> <div class="card-info-avatar"><a class="avatar-img" href="/about"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></a><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="writing_hand" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/270d.png">✍️</g-emoji><span>on Studying</span></div></div></div></div><div class="author-info__sayhi" id="author-info__sayhi"></div><h1 class="author-info__name">Zelas2Xerath</h1><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(59, 112, 250, 0.8);">这有关于<b>运维、开发、后端</b>相关的问题和看法。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(59, 112, 250, 0.8);">相信你可以在这里找到对你有用的<b>知识</b>和<b>教程</b>。</div></div><div class="banner-button-group"><a class="banner-button" onclick="pjax.loadUrl(&quot;/about/&quot;)"><span class="banner-button-text">了解更多</span><i class="anzhiyufont anzhiyu-icon-arrow-circle-right" style="font-size: 1.5rem"></i></a></div><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/zelas2xerath" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="mailto:leancode@189.cn" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/324690213" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">2023/7/13-Bug fix</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://npm.elemecdn.com/hexo-lib@1.0.22/img/face.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://npm.elemecdn.com/hexo-lib@1.0.22/img/back.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#RHCSA8-EX200"><span class="toc-number">1.</span> <span class="toc-text">RHCSA8-EX200</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97"><span class="toc-number">1.1.</span> <span class="toc-text">更新日志</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.</span> <span class="toc-text">前置信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Root-%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">Root 密码破解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E5%92%8C%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">1.4.</span> <span class="toc-text">配置网络和主机名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-YUM-%E4%BB%93%E5%BA%93"><span class="toc-number">1.5.</span> <span class="toc-text">配置 YUM 仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E8%AF%95-SELINUX"><span class="toc-number">1.6.</span> <span class="toc-text">调试 SELINUX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7"><span class="toc-number">1.7.</span> <span class="toc-text">创建用户账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Cron-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1"><span class="toc-number">1.8.</span> <span class="toc-text">配置 Cron 计划任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%8D%8F%E4%BD%9C%E7%9B%AE%E5%BD%95"><span class="toc-number">1.9.</span> <span class="toc-text">创建协作目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-NTP"><span class="toc-number">1.10.</span> <span class="toc-text">配置 NTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-autofs"><span class="toc-number">1.11.</span> <span class="toc-text">配置 autofs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-number">1.12.</span> <span class="toc-text">配置文件权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7"><span class="toc-number">1.13.</span> <span class="toc-text">配置用户账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="toc-number">1.14.</span> <span class="toc-text">查找文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.15.</span> <span class="toc-text">查找字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%BD%92%E6%A1%A3"><span class="toc-number">1.16.</span> <span class="toc-text">文件归档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E6%95%B4%E9%80%BB%E8%BE%91%E5%8D%B7%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.17.</span> <span class="toc-text">调整逻辑卷大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA"><span class="toc-number">1.18.</span> <span class="toc-text">添加交换分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%80%BB%E8%BE%91%E5%8D%B7"><span class="toc-number">1.19.</span> <span class="toc-text">创建逻辑卷</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-VDO-%E5%8D%B7"><span class="toc-number">1.20.</span> <span class="toc-text">创建 VDO 卷</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E8%B0%83%E4%BC%98"><span class="toc-number">1.21.</span> <span class="toc-text">配置系统调优</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%EF%BC%882%E5%90%881%EF%BC%89"><span class="toc-number">1.22.</span> <span class="toc-text">容器（2合1）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%AE%B9%E5%99%A8%E4%BB%A5%E4%BD%BF%E5%85%B6%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="toc-number">1.22.1.</span> <span class="toc-text">配置容器以使其自启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%8C%81%E4%B9%85%E5%AD%98%E5%82%A8"><span class="toc-number">1.22.2.</span> <span class="toc-text">配置持久存储</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-UMASK"><span class="toc-number">1.23.</span> <span class="toc-text">配置 UMASK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E6%9C%89%E6%95%88%E6%9C%9F"><span class="toc-number">1.24.</span> <span class="toc-text">修改密码有效期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%B6%85%E7%BA%A7%E7%94%A8%E6%88%B7"><span class="toc-number">1.25.</span> <span class="toc-text">配置超级用户</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/05/05/RHCSA8-EX200/" title="RHCSA8-EX200 试题解析记录"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/10/v7XdfkoYGR1KUCz.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RHCSA8-EX200 试题解析记录"/></a><div class="content"><a class="title" href="/2023/05/05/RHCSA8-EX200/" title="RHCSA8-EX200 试题解析记录">RHCSA8-EX200 试题解析记录</a><time datetime="2023-06-18T08:00:00.000Z" title="更新于 2023-06-18 16:00:00">2023-06-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/05/RHCE-EX294/" title="RHCE8-EX294 试题解析记录"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/10/JPMRFZowcEOalqu.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RHCE8-EX294 试题解析记录"/></a><div class="content"><a class="title" href="/2023/05/05/RHCE-EX294/" title="RHCE8-EX294 试题解析记录">RHCE8-EX294 试题解析记录</a><time datetime="2023-05-05T08:00:00.000Z" title="更新于 2023-05-05 16:00:00">2023-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/04/router-development-common/" title="路由器固件开发的一般流程"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/12/hoA85gTwJLiC3FN.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器固件开发的一般流程"/></a><div class="content"><a class="title" href="/2022/07/04/router-development-common/" title="路由器固件开发的一般流程">路由器固件开发的一般流程</a><time datetime="2023-04-29T10:59:07.680Z" title="更新于 2023-04-29 18:59:07">2023-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/04/router-software/" title="路由器的软件构成"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/06/10/Cp8JNULs4PcEMHS.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器的软件构成"/></a><div class="content"><a class="title" href="/2022/07/04/router-software/" title="路由器的软件构成">路由器的软件构成</a><time datetime="2023-04-29T10:33:47.527Z" title="更新于 2023-04-29 18:33:47">2023-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/04/router-hardware/" title="路由器的硬件构成"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.loli.net/2022/07/04/XEkyhrZpWbjUICA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器的硬件构成"/></a><div class="content"><a class="title" href="/2022/07/04/router-hardware/" title="路由器的硬件构成">路由器的硬件构成</a><time datetime="2023-04-29T10:12:53.709Z" title="更新于 2023-04-29 18:12:53">2023-04-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="mailto:leancode@189.cn" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><img class="footer_mini_logo" title="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.png" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/zelas2xerath" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/324690213" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://www.douyin.com/user/MS4wLjABAAAAKP-kWuaj9UcOIDfdaqYGZon09Z0aKb_c4gGNyTY1X_M/" title="抖音"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="网盘" target="_blank" href="https://pan.806006.xyz/">网盘</a><a class="footer-item" title="开往" target="_blank" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">板块</div><div class="footer-links"><a class="footer-item" title="OpenWrt" target="_blank" href="/Openwrt/">OpenWrt</a><a class="footer-item" title="PWN" target="_blank" href="/Pwn/">PWN</a><a class="footer-item" title="逆向" target="_blank" href="/Reverse/">逆向</a><a class="footer-item" title="网络" target="_blank" href="/Net/">网络</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" target="_blank" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" target="_blank" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" target="_blank" href="/comments/">留言板</a><a class="footer-item" title="好物清单" target="_blank" href="/equipment/">好物清单</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" target="_blank" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" target="_blank" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" target="_blank" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><div class="copyright">&copy;2018 - 2023 By Zelas2Xerath</div><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/bottom.svg" alt="距离上市也就还差一个小目标~" title="距离上市也就还差一个小目标~"/><div id="runtimeTextTip"></div></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/ICP.svg" alt="浙ICP备2022018228"></a></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo" title="博客框架为Hexo"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/Hexo.svg" alt="博客框架为Hexo"/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题 Anzhiyu" title="主题 Anzhiyu"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/Theme.svg" alt="主题 Anzhiyu"/></a><a class="github-badge" target="_blank" href="https://sm.ms/" style="margin-inline:5px" data-title="本站图床由 SM.MS 提供" title="本站图床由 SM.MS 提供"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/DrawingBed.svg" alt="本站图床由 SM.MS 提供"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="https://cloud.tencent.com/" style="margin-inline:5px" data-title="本站由 Serverless Framework 构建" title="本站由 Serverless Framework 构建"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/Serverless.svg" alt="本站由 Serverless Framework 构建"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/hexo-lib@1.0.22/svg/Copyright.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">54</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">46</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-127px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="fas fa-globe faa-tada"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 板块</span></a><ul class="menus_item_child" style="left:-223px;"><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Openwrt/"><i class="fa-solid fa-wifi faa-tada"></i><span> OpenWrt</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Pwn/"><i class="fa-solid fa-0 faa-tada"></i><span> Pwn</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Reverse/"><i class="fa-brands fa-500px faa-tada"></i><span> Reverse</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/Net/"><i class="fa-brands fa-battle-net faa-tada"></i><span> Net</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-127px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch_commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="开关弹幕"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/utils.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/main.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://npm.elemecdn.com/instant.page@5.1.1/instantpage.js" type="module"></script><script src="https://npm.elemecdn.com/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://npm.elemecdn.com/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("10/01/2018 01:23:45"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用神芯微!`,
    `寒江孤影, 相逢何必曾相识`,
    `
      ██╗   ██╗███████╗██╗  ██╗██╗███╗   ██╗██████╗  █████╗ ██████╗ 
      ╚██╗ ██╔╝██╔════╝██║ ██╔╝██║████╗  ██║██╔══██╗██╔══██╗██╔══██╗
       ╚████╔╝ █████╗  █████╔╝ ██║██╔██╗ ██║██║  ██║███████║██████╔╝
        ╚██╔╝  ██╔══╝  ██╔═██╗ ██║██║╚██╗██║██║  ██║██╔══██║██╔══██╗
         ██║   ███████╗██║  ██╗██║██║ ╚████║██████╔╝██║  ██║██║  ██║
         ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝╚═╝  ╚═══╝╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝
																																		
  
        `,
    "已上线",
    dnum,
    "天",
    "©2018 By Zelas2Xerath 1.4.0",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by Zelas2Xerath %c 你正在访问 Zelas2Xerath 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("10/01/2018 01:23:45"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://npm.elemecdn.com/hexo-lib@1.0.22/svg/bottom2.svg";
      img.title = "Publicing~";
      img.alt = "Publicing~";

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="https://npm.elemecdn.com/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js"></script><script src="https://npm.elemecdn.com/instantsearch.js@4.46.1/dist/instantsearch.production.min.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.4.0/source/js/search/algolia.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://c.806006.xyz/',
      region: '',
      onCommentLoaded: function () {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://c.806006.xyz/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init();
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://npm.elemecdn.com/twikoo@1.6.16/dist/twikoo.all.min.js').then(runFn)
  }
  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://c.806006.xyz/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://npm.elemecdn.com/twikoo@1.6.16/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick}</span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@806006.xyz";</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// 初始化函数
let rm = {};

//禁止图片与超链接拖拽
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// 显示菜单
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// 隐藏菜单
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// 尺寸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// 重新定义尺寸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // 获取宽度和高度
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// 获取点击的href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //加10是为了防止显示时鼠标遮在菜单上
    let pageY = event.clientY;

    //其他额外菜单
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // 判断模式 扩展模式为有事件
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // 检查是否需要复制 是否有选中文本
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //检查是否右键点击了链接a标签
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //检查是否需要复制图片
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // 判断是否为输入框
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //判断是否是音乐
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // 如果不是扩展模式则隐藏扩展模块
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // 鼠标默认显示在鼠标右下方，当鼠标靠右或靠下时，将菜单显示在鼠标左方\上方
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// 监听右键初始化
window.oncontextmenu = oncontextmenuFunction

// 下载图片状态
rm.downloadimging = false;

// 复制图片到剪贴板
rm.writeClipImg = function (imgsrc) {
  console.log("按下复制");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("正在下载中，请稍后", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("复制成功！图片已添加盲水印，请遵守版权协议");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制本页链接地址成功", false, 2000);
  rm.hideRightMenu();
};

// 复制当前选中文本
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// 读取剪切板
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// 粘贴文本到焦点
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//粘贴文本
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//引用到评论
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "好棒！";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//替换所有内容
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// 百度搜索
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("即将跳转到百度搜索", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//分享链接
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("已复制链接地址");
};

function addRightMenuClickEvent() {
  // 添加点击事件
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("复制成功，复制和转载请标注本文地址");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //音乐
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("复制歌曲名称成功", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// 已随机的歌曲
var selectRandomSong = [];
// 音乐默认声音大小
var musicVolume = 0.8;
// 是否切换了周杰伦音乐列表
var changeMusicListFlag = false;
// 当前默认播放列表
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | HugeH4rD")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {
  if (typeof addFriendLinksInFooter === "function") {
    addFriendLinksInFooter();
  }
}, 200)</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.1.4/icon/ali_iconfont_css.css"><script src="/js/custom.js"></script><script id="click-show-text" src="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script src="https://npm.elemecdn.com/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><script src="/js/markmap.js"></script></body></html>